<!DOCTYPE html>
<html lang="ja" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{% block title %}{% endblock %} - みちしるべ｜独学受験生の学習計画パートナー</title>
    <meta name="description" content="「みちしるべ」は、大学受験を独学で乗り越える受験生のための、パーソナルな学習計画を提供するWebアプリケーションです。">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <meta name="google-site-verification" content="xnzSDRCtBnkRILV7Zix81ETAUIyQti0BgHUEGUvILgQ" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NYYBJXRHW3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-NYYBJXRHW3');
    </script>
</head>
<body>
    <nav class="container-fluid">
    <div class="container">
        <ul>
            <li>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('main.dashboard', user_id=current_user.id) }}" class="contrast"><strong>みちしるべ</strong></a>
                {% else %}
                    <a href="{{ url_for('main.index') }}" class="contrast"><strong>みちしるべ</strong></a>
                {% endif %}
            </li>
        </ul>

        <button class="mobile-nav-toggle" aria-controls="primary-navigation" aria-expanded="false">
            <span class="sr-only">Menu</span>
        </button>

        <ul id="primary-navigation" class="primary-navigation" data-visible="false">
            {% if current_user.is_authenticated %}
                <li><a href="{{ url_for('main.dashboard', user_id=current_user.id) }}">マイページ</a></li>
                <li><a href="{{ url_for('main.show_plan', user_id=current_user.id) }}">学習マップ</a></li>
                <li><a href="{{ url_for('main.stats', user_id=current_user.id) }}">学習記録</a></li>
                <li><a href="{{ url_for('main.support', user_id=current_user.id) }}">支援制度</a></li>
                <li><a href="{{ url_for('main.more', user_id=current_user.id) }}" role="button">その他</a></li>
                {% if current_user.is_admin %}
  <li><a href="{{ url_for('main.admin_dashboard') }}" class="contrast outline">管理者</a></li>
{% endif %}
            {% else %}
                <li><a href="{{ url_for('main.login') }}" role="button" class="secondary outline">ログイン</a></li>
                <li><a href="{{ url_for('main.register') }}" role="button">新規登録</a></li>
            {% endif %}
        </ul>
        </div>
    </nav>
    <script>
    const navToggle = document.querySelector('.mobile-nav-toggle');
    const primaryNav = document.querySelector('.primary-navigation');

    navToggle.addEventListener('click', () => {
        const isVisible = primaryNav.getAttribute('data-visible') === 'true';
        if (isVisible) {
            primaryNav.setAttribute('data-visible', false);
            navToggle.setAttribute('aria-expanded', false);
        } else {
            primaryNav.setAttribute('data-visible', true);
            navToggle.setAttribute('aria-expanded', true);
        }
    });
    </script>
    <main class="container">
        {% block content %}{% endblock %}
    </main>

    <footer class="container">
        <small>&copy; 2025 大学受験サポートApp</small>
    </footer>
    {% if current_user.is_authenticated %}
    <nav class="footer-nav">
        <a href="{{ url_for('main.show_plan', user_id=current_user.id) }}">
            <svg viewBox="0 0 24 24">
                <path d="M9 19L4 21V5L9 3L15 6L20 4V19L15 21L9 18L9 19Z M9 5V18M15 6V21"></path>
            </svg>
            <span>学習マップ</span>
        </a>
        <a href="{{ url_for('main.stats', user_id=current_user.id) }}">
            <svg viewBox="0 0 24 24">
                <path d="M8 18H4V8H8V18ZM14 18H10V4H14V18ZM20 18H16V11H20V18Z"></path>
            </svg>
            <span>学習記録</span>
        </a>
        <a href="{{ url_for('main.dashboard', user_id=current_user.id) }}">
            <svg viewBox="0 0 24 24">
                <path d="M3 9.18519L12 2L21 9.18519V22H15V15H9V22H3V9.18519Z"></path>
            </svg>
            <span>ホーム</span>
        </a>
        <a href="{{ url_for('main.more', user_id=current_user.id) }}">
            <svg viewBox="0 0 24 24">
                 <path d="M12 12C12.5523 12 13 11.5523 13 11C13 10.4477 12.5523 10 12 10C11.4477 10 11 10.4477 11 11C11 11.5523 11.4477 12 12 12Z M19 12C19.5523 12 20 11.5523 20 11C20 10.4477 19.5523 10 19 10C18.4477 10 18 10.4477 18 11C18 11.5523 18.4477 12 19 12Z M5 12C5.55228 12 6 11.5523 6 11C6 10.4477 5.55228 10 5 10C4.44772 10 4 10.4477 4 11C4 11.5523 4.44772 12 5 12Z"></path>
            </svg>
            <span>その他</span>
        </a>
    </nav>
    {% endif %}
</body>
</html>